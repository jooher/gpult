<!doctype html>
<body>
	<svg id="svg" xmlns="http://www.w3.org/2000/svg" width="900" height="600" viewBox="0 0 300 300">
	    <path id="path" fill="#800" d="m 21,45 55,140 5,-150 114,5 -15,25 60,15 -70,5 60,15 -40,50 -10,25 -79,25 -15,30 -57,-35 z"></path>
	</svg>
	
	<script src="maths.js"></script>
	
	<script>
	"use strict";
	
	const
	path	= document.getElementById("path").getAttribute("d").split(" ")
		.filter(str=>str.match(/^[0-9.,\-]+$/))
		.map(str=>str.split(","))
		.map( ([x,y])=>[1.0*x,1.0*y] ),
		
	route =[],
	
	svg = document.getElementById("svg"),
	
	elsvg = ([tag,atr]) =>{
		const c=document.createElementNS("http://www.w3.org/2000/svg",tag);//svg.namespaceURI
		if(atr)for(const a in atr)c.setAttribute(a,atr[a]);
		return c;
	};

	svg.append(	
		//...path.map(rounds(6,1)).flat().map(elsvg)
		elsvg(["path", {
			d: "M 0 0 " + path.map(rounds(6,-1)).join("\n"),
			stroke:"lime",
			fill:"none"			
		}])
	);
	</script>
</body>